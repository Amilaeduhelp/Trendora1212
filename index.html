<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRENDORA1212 - Online Store</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 10px;}
        .container {max-width: 1400px; margin: 0 auto;}
        header {background: white; padding: 15px 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;}
        .logo {font-size: 1.8em; font-weight: bold; color: #667eea; letter-spacing: 2px;}
        .cart-icon {position: relative; cursor: pointer; background: #667eea; color: white; padding: 12px 20px; border-radius: 10px; font-weight: bold; transition: all 0.3s; font-size: 0.9em;}
        .cart-icon:hover {background: #764ba2; transform: translateY(-2px);}
        .cart-count {position: absolute; top: -8px; right: -8px; background: #ff4757; color: white; min-width: 25px; height: 25px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.85em; padding: 0 5px;}
        .products-grid {display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px;}
        .product-card {background: white; border-radius: 15px; padding: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: all 0.3s; display: flex; flex-direction: column;}
        .product-card:hover {transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.2);}
        .product-image {width: 100%; height: 200px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-size: 13px; margin-bottom: 15px; position: relative; overflow: hidden;}
        .product-image img {width: 100%; height: 100%; object-fit: cover; border-radius: 10px; cursor: pointer; transition: transform 0.2s;}
        .product-image img:hover {transform: scale(1.05);}
        .product-name {font-size: 1em; font-weight: bold; color: #333; margin-bottom: 10px; min-height: 40px;}
        .product-price {font-size: 1.3em; color: #667eea; font-weight: bold; margin-bottom: 15px;}
        .share-btn {background: #667eea; color: white; border: none; padding: 10px 12px; border-radius: 8px; cursor: pointer; font-size: 0.9em; transition: all 0.3s; margin-top: 10px; font-weight: bold;}
        .share-btn:hover {background: #764ba2; transform: translateY(-2px);}
        .add-to-cart-btn {background: #667eea; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: all 0.3s; margin-top: 10px; font-size: 0.95em;}
        .add-to-cart-btn:hover {background: #764ba2;}
        .cart-modal, .zoom-modal, .details-modal {display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center; padding: 10px;}
        .zoom-modal {background: rgba(0,0,0,0.9); z-index: 2000; padding: 20px;}
        .details-modal {background: rgba(0,0,0,0.8); z-index: 1500; padding: 20px;}
        .cart-content, .details-content {background: white; border-radius: 20px; padding: 20px;}
        .cart-content {width: 100%; max-width: 800px; max-height: 90vh; overflow-y: auto;}
        .details-content {max-width: 500px; width: 100%; padding: 30px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);}
        .cart-header {display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #667eea; gap: 10px;}
        .cart-header h2 {font-size: 1.5em;}
        .close-btn {background: #ff4757; color: white; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; font-size: 20px;}
        .zoom-close {position: absolute; top: 20px; right: 30px; color: white; font-size: 40px; font-weight: bold; cursor: pointer; background: rgba(255,255,255,0.2); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all 0.3s;}
        .zoom-close:hover {background: rgba(255,255,255,0.3); transform: rotate(90deg);}
        .zoom-modal img {max-width: 90%; max-height: 90%; object-fit: contain; border-radius: 10px; box-shadow: 0 0 50px rgba(255,255,255,0.3);}
        .cart-item {display: flex; justify-content: space-between; align-items: center; padding: 15px 10px; border-bottom: 1px solid #eee; gap: 10px; flex-wrap: wrap;}
        .cart-item-info {flex: 1; min-width: 150px;}
        .quantity-controls {display: flex; gap: 8px; align-items: center;}
        .qty-btn {background: #667eea; color: white; border: none; width: 30px; height: 30px; border-radius: 5px; cursor: pointer; font-weight: bold;}
        .remove-btn {background: #ff4757; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; font-size: 0.9em;}
        .cart-summary {margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;}
        .summary-row {display: flex; justify-content: space-between; padding: 10px 0; font-size: 1em;}
        .summary-row.total {border-top: 2px solid #667eea; margin-top: 10px; padding-top: 15px; font-weight: bold; font-size: 1.2em; color: #667eea;}
        .payment-section {margin-top: 20px; padding: 20px; background: white; border-radius: 10px; border: 2px solid #667eea;}
        .payment-title {font-size: 1.2em; font-weight: bold; color: #667eea; margin-bottom: 15px;}
        .payment-options {display: flex; flex-direction: column; gap: 12px;}
        .payment-option {display: flex; align-items: center; padding: 15px; background: #f8f9fa; border-radius: 8px; cursor: pointer; transition: all 0.3s; border: 2px solid transparent;}
        .payment-option:hover {background: #e9ecef;}
        .payment-option.selected {background: #e7f3ff; border-color: #667eea;}
        .payment-option input[type="radio"] {margin-right: 12px; width: 20px; height: 20px; cursor: pointer;}
        .payment-label {flex: 1; cursor: pointer;}
        .payment-label strong {display: block; font-size: 1.1em; color: #333; margin-bottom: 4px;}
        .payment-label small {color: #666; font-size: 0.9em;}
        .delivery-charge {color: #10ac84; font-weight: bold;}
        .whatsapp-btn {width: 100%; color: white; border: none; padding: 15px; border-radius: 10px; font-size: 1.1em; font-weight: bold; cursor: pointer; transition: all 0.3s; background: #25D366; margin-top: 20px;}
        .whatsapp-btn:hover {background: #20BA5A;}
        .empty-cart {text-align: center; padding: 40px 20px; color: #999; font-size: 1.1em;}
        .details-header {font-size: 1.5em; font-weight: bold; color: #667eea; margin-bottom: 20px; text-align: center;}
        .form-group {margin-bottom: 20px;}
        .form-group label {display: block; font-weight: bold; color: #333; margin-bottom: 8px; font-size: 1em;}
        .form-group input, .form-group textarea {width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; font-family: inherit; transition: border-color 0.3s;}
        .form-group input:focus, .form-group textarea:focus {outline: none; border-color: #667eea;}
        .form-group textarea {resize: vertical; min-height: 80px;}
        .form-buttons {display: flex; gap: 10px; margin-top: 25px;}
        .form-btn {flex: 1; padding: 12px; border: none; border-radius: 8px; font-size: 1em; font-weight: bold; cursor: pointer; transition: all 0.3s;}
        .form-btn.submit {background: #25D366; color: white;}
        .form-btn.submit:hover {background: #20BA5A;}
        .form-btn.cancel {background: #ff4757; color: white;}
        .form-btn.cancel:hover {background: #ee5a6f;}
        .toast {position: fixed; bottom: 30px; right: 30px; background: #667eea; color: white; padding: 15px 25px; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 3000; animation: slideIn 0.3s ease-out; font-weight: bold;}
        @keyframes slideIn {from {transform: translateX(400px); opacity: 0;} to {transform: translateX(0); opacity: 1;}}
        @media screen and (max-width: 768px) {
            .products-grid {grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 12px;}
            .product-card {padding: 15px;}
            .product-image {height: 140px;}
            .share-btn, .add-to-cart-btn {padding: 8px; font-size: 0.85em;}
            .toast {bottom: 20px; right: 20px; left: 20px; text-align: center;}
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">üõçÔ∏è TRENDORA1212</div>
            <div class="cart-icon" onclick="toggleCart()">üõí Cart <span class="cart-count" id="cartCount">0</span></div>
        </header>
        <div class="products-grid" id="productsGrid"></div>
        <div class="cart-modal" id="cartModal">
            <div class="cart-content">
                <div class="cart-header"><h2>üõí Shopping Cart</h2><button class="close-btn" onclick="toggleCart()">√ó</button></div>
                <div id="cartItems"></div>
                <div id="paymentSection"></div>
                <div class="cart-summary" id="cartSummary"></div>
            </div>
        </div>
        <div class="zoom-modal" id="zoomModal" onclick="closeZoom()">
            <span class="zoom-close" onclick="closeZoom()">√ó</span>
            <img id="zoomedImage" src="" alt="Zoomed Product">
        </div>
        <div class="details-modal" id="detailsModal">
            <div class="details-content">
                <div class="details-header">üìù ‡∂î‡∂∂‡∑ö ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</div>
                <form id="customerForm" onsubmit="submitCustomerDetails(event)">
                    <div class="form-group"><label for="customerName">‡∂±‡∂∏ *</label><input type="text" id="customerName" required placeholder="‡∂î‡∂∂‡∑ö ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂±‡∂∏"></div>
                    <div class="form-group"><label for="customerPhone">‡∂Ø‡∑î‡∂ª‡∂ö‡∂Æ‡∂± ‡∂Ö‡∂Ç‡∂ö‡∂∫ *</label><input type="tel" id="customerPhone" required placeholder="07XXXXXXXX"></div>
                    <div class="form-group"><label for="customerAddress">‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫ *</label><textarea id="customerAddress" required placeholder="‡∂î‡∂∂‡∑ö ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫"></textarea></div>
                    <div class="form-buttons">
                        <button type="button" class="form-btn cancel" onclick="closeDetailsModal()">‡∂Ö‡∑Ä‡∂Ω‡∂Ç‡∂ú‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
                        <button type="submit" class="form-btn submit">üì± WhatsApp ‡∂∫‡∑Ä‡∂±‡∑ä‡∂±</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script>
        const IMAGE_BASE_URL = 'https://raw.githubusercontent.com/Amilaeduhelp/Trendora1212/main/';
        let selectedPaymentMethod = 'cod';
        let cart = [];
        
        const products = [
            {id: 1, name: "Item No-01", price: 1200, image: "item1.jpg"},
            {id: 2, name: "Item No-02", price: 1800, image: "item2.jpg"},
            {id: 3, name: "Item No-03", price: 1500, image: "item3.jpg"},
            {id: 4, name: "Item No-04", price: 1500, image: "item4.jpg"},
            {id: 5, name: "Item No-05", price: 1500, image: "item5.jpg"},
            {id: 6, name: "Item No-06", price: 1500, image: "item6.jpg"},
            {id: 7, name: "Item No-07", price: 1600, image: "item7.jpg"},
            {id: 8, name: "Item No-08", price: 1800, image: "item8.jpg"},
            {id: 9, name: "Item No-09", price: 1850, image: "item9.jpg"},
            {id: 10, name: "Item No-10", price: 1850, image: "item10.jpg"},
            {id: 11, name: "Item No-11", price: 1850, image: "item11.jpg"},
            {id: 12, name: "Item No-12", price: 1850, image: "item12.jpg"},
            {id: 13, name: "Item No-13", price: 1850, image: "item13.jpg"},
            {id: 14, name: "Item No-14", price: 1800, image: "item14.jpg"},
            {id: 15, name: "Item No-15", price: 1500, image: "item15.jpg"},
            {id: 16, name: "Item No-16", price: 1500, image: "item16.jpg"},
            {id: 17, name: "Item No-17", price: 1500, image: "item17.jpg"},
            {id: 18, name: "Item No-18", price: 1500, image: "item18.jpg"},
            {id: 19, name: "Item No-19", price: 1500, image: "item19.jpg"},
            {id: 20, name: "Item No-20", price: 1500, image: "item20.jpg"},
            {id: 21, name: "Item No-21", price: 1600, image: "item21.jpg"},
            {id: 22, name: "Item No-22", price: 1600, image: "item22.jpg"},
            {id: 23, name: "Item No-23", price: 1600, image: "item23.jpg"},
            {id: 24, name: "Item No-24", price: 1600, image: "item24.jpg"},
            {id: 25, name: "Item No-25", price: 1600, image: "item25.jpg"},
            {id: 26, name: "Item No-26", price: 1600, image: "item26.jpg"},
            {id: 27, name: "Item No-27", price: 1600, image: "item27.jpg"},
            {id: 28, name: "Item No-28", price: 1200, image: "item28.jpg"},
            {id: 29, name: "Item No-29", price: 1200, image: "item29.jpg"},
            {id: 30, name: "Item No-30", price: 1200, image: "item30.jpg"},
            {id: 31, name: "Item No-31", price: 1200, image: "item31.jpg"},
            {id: 32, name: "Item No-32", price: 1200, image: "item32.jpg"},
            {id: 33, name: "Item No-33", price: 1200, image: "item33.jpg"},
            {id: 34, name: "Item No-34", price: 2800, image: "item34.jpg"},
            {id: 35, name: "Item No-35", price: 2200, image: "item35.jpg"}   
        ];

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2000);
        }

        function shareProduct(product) {
            const url = `${window.location.origin}${window.location.pathname}?product=${product.id}`;
            const text = `üõçÔ∏è ${product.name}\nüí∞ ‡∂ª‡∑î. ${product.price.toFixed(2)}\n\nüîó ${url}`;
            
            if (navigator.share) {
                navigator.share({
                    title: product.name,
                    text: text,
                    url: url
                }).catch(() => copyToClipboard(url));
            } else {
                copyToClipboard(url);
            }
        }

        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            showToast('üîó Link copied!');
        }

        function displayProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => `
                <div class="product-card">
                    <div class="product-image">
                        <img src="${IMAGE_BASE_URL}${product.image}" 
                             alt="${product.name}" 
                             onclick="zoomImage('${IMAGE_BASE_URL}${product.image}', '${product.name}')">
                    </div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">‡∂ª‡∑î. ${product.price.toFixed(2)}</div>
                    <button class="share-btn" onclick='shareProduct(${JSON.stringify(product)})'>üîó Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</button>
                    <button class="add-to-cart-btn" onclick="addToCart(${product.id})">üõí Add to Cart</button>
                </div>
            `).join('');
        }

        function zoomImage(src, alt) {
            document.getElementById('zoomModal').style.display = 'flex';
            const img = document.getElementById('zoomedImage');
            img.src = src;
            img.alt = alt;
        }

        function closeZoom() {
            document.getElementById('zoomModal').style.display = 'none';
        }

        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({...product, quantity: 1});
            }
            
            updateCart();
            showToast('‚úÖ Cart ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∂≠‡∑î ‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø‡∑ì!');
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCart();
                }
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
            showToast('üóëÔ∏è Item ‡∂ë‡∂ö ‡∂â‡∑Ä‡∂≠‡∑ä ‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø‡∑ì!');
        }

        function updateCart() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;
            displayCart();
        }

        function displayCart() {
            const cartItems = document.getElementById('cartItems');
            const paymentSection = document.getElementById('paymentSection');
            const cartSummary = document.getElementById('cartSummary');

            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="empty-cart">üõí Cart ‡∂ë‡∂ö ‡∑Ñ‡∑í‡∑É‡∑ä‡∂∫</div>';
                paymentSection.innerHTML = '';
                cartSummary.innerHTML = '';
                return;
            }

            cartItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <div class="cart-item-info">
                        <strong>${item.name}</strong><br>
                        <span style="color:#667eea;">‡∂ª‡∑î. ${item.price.toFixed(2)}</span>
                    </div>
                    <div class="quantity-controls">
                        <button class="qty-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                        <span><strong>${item.quantity}</strong></span>
                        <button class="qty-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                    </div>
                    <div><strong>‡∂ª‡∑î. ${(item.price * item.quantity).toFixed(2)}</strong></div>
                    <button class="remove-btn" onclick="removeFromCart(${item.id})">üóëÔ∏è</button>
                </div>
            `).join('');

            paymentSection.innerHTML = `
                <div class="payment-section">
                    <div class="payment-title">üí≥ ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±</div>
                    <div class="payment-options">
                        <div class="payment-option ${selectedPaymentMethod === 'cod' ? 'selected' : ''}" onclick="selectPayment('cod')">
                            <input type="radio" name="payment" value="cod" ${selectedPaymentMethod === 'cod' ? 'checked' : ''}>
                            <div class="payment-label">
                                <strong>üöö Cash on Delivery (COD)</strong>
                                <small>‡∂ú‡∑ô‡∑Ä‡∂Ω‡∑ä ‡∑Ñ‡∂ª‡∑Ñ‡∑è ‡∂ú‡∑ô‡∑Ä‡∑ì‡∂∏ - <span class="delivery-charge">Delivery: ‡∂ª‡∑î. 400.00</span></small>
                            </div>
                        </div>
                        <div class="payment-option ${selectedPaymentMethod === 'bank' ? 'selected' : ''}" onclick="selectPayment('bank')">
                            <input type="radio" name="payment" value="bank" ${selectedPaymentMethod === 'bank' ? 'checked' : ''}>
                            <div class="payment-label">
                                <strong>üè¶ Bank Transfer</strong>
                                <small>‡∂∂‡∑ê‡∂Ç‡∂ö‡∑î ‡∂∏‡∑è‡∂ª‡∑î - <span class="delivery-charge">Service: ‡∂ª‡∑î. 375.00</span></small>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discount = subtotal * 0.05;
            const serviceCharge = selectedPaymentMethod === 'cod' ? 400 : 375;
            const serviceLabel = selectedPaymentMethod === 'cod' ? 'COD Delivery Charge' : 'Bank Transfer Service';
            const total = subtotal - discount + serviceCharge;

            cartSummary.innerHTML = `
                <div class="summary-row">
                    <span>Subtotal:</span>
                    <span>‡∂ª‡∑î. ${subtotal.toFixed(2)}</span>
                </div>
                <div class="summary-row">
                    <span>Discount (5%):</span>
                    <span style="color:#10ac84;">- ‡∂ª‡∑î. ${discount.toFixed(2)}</span>
                </div>
                <div class="summary-row">
                    <span>${serviceLabel}:</span>
                    <span style="color:#ff6b6b;">+ ‡∂ª‡∑î. ${serviceCharge.toFixed(2)}</span>
                </div>
                <div class="summary-row total">
                    <span>Total:</span>
                    <span>‡∂ª‡∑î. ${total.toFixed(2)}</span>
                </div>
                <button class="whatsapp-btn" onclick="openDetailsModal()">üì± Copy & Send via WhatsApp</button>
            `;
        }

        function selectPayment(method) {
            selectedPaymentMethod = method;
            displayCart();
        }

        function toggleCart() {
            const modal = document.getElementById('cartModal');
            modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';
        }

        function openDetailsModal() {
            if (cart.length === 0) {
                alert('Cart ‡∂ë‡∂ö ‡∑Ñ‡∑í‡∑É‡∑ä‡∂∫!');
                return;
            }
            document.getElementById('detailsModal').style.display = 'flex';
        }

        function closeDetailsModal() {
            document.getElementById('detailsModal').style.display = 'none';
            document.getElementById('customerForm').reset();
        }

        function submitCustomerDetails(event) {
            event.preventDefault();
            
            const name = document.getElementById('customerName').value.trim();
            const phone = document.getElementById('customerPhone').value.trim();
            const address = document.getElementById('customerAddress').value.trim();

            if (name && phone && address) {
                sendViaWhatsApp(name, phone, address);
                closeDetailsModal();
            } else {
                alert('‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑É‡∑í‡∂∫‡∂Ω‡∑î‡∂∏ ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂¥‡∑î‡∂ª‡∑Ä‡∂±‡∑ä‡∂±!');
            }
        }

        function sendViaWhatsApp(name, phone, address) {
            if (cart.length === 0) {
                alert('Cart ‡∂ë‡∂ö ‡∑Ñ‡∑í‡∑É‡∑ä‡∂∫!');
                return;
            }

            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discount = subtotal * 0.05;
            const serviceCharge = selectedPaymentMethod === 'cod' ? 400 : 375;
            const paymentMethod = selectedPaymentMethod === 'cod' ? 'Cash on Delivery (COD)' : 'Bank Transfer';
            const serviceLabel = selectedPaymentMethod === 'cod' ? 'COD Delivery Charge' : 'Bank Transfer Service';
            const total = subtotal - discount + serviceCharge;

            let message = `üõçÔ∏è *TRENDORA1212 - Order Bill*\n\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            message += `*üë§ CUSTOMER DETAILS:*\n\n`;
            message += `Name: ${name}\n`;
            message += `Phone: ${phone}\n`;
            message += `Address: ${address}\n\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            message += `*üì¶ ORDERED ITEMS:*\n\n`;

            cart.forEach(item => {
                message += `‚Ä¢ *${item.name}*\n`;
                message += `  Qty: ${item.quantity} √ó ‡∂ª‡∑î.${item.price.toFixed(2)}\n`;
                message += `  Total: ‡∂ª‡∑î.${(item.price * item.quantity).toFixed(2)}\n\n`;
            });

            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            message += `*üí∞ BILL SUMMARY:*\n\n`;
            message += `Subtotal: ‡∂ª‡∑î.${subtotal.toFixed(2)}\n`;
            message += `Discount (5%): -‡∂ª‡∑î.${discount.toFixed(2)}\n`;
            message += `${serviceLabel}: +‡∂ª‡∑î.${serviceCharge.toFixed(2)}\n\n`;
            message += `*Grand Total: ‡∂ª‡∑î.${total.toFixed(2)}*\n\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            message += `*üí≥ Payment Method:* ${paymentMethod}\n\n`;
            message += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;
            message += `Thank you for shopping with us! üôè\n`;
            message += `*TRENDORA1212*`;

            const whatsappURL = `https://wa.me/94705572284?text=${encodeURIComponent(message)}`;
            window.open(whatsappURL, '_blank');
            showToast('‚úÖ WhatsApp ‡∂ë‡∂ö‡∂ß ‡∂∫‡∑ú‡∂∏‡∑î ‡∂ö‡∂ª‡∂∏‡∑í‡∂±‡∑ä...');
        }

        // Event listeners
        document.getElementById('cartModal').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleCart();
            }
        });

        document.getElementById('detailsModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeDetailsModal();
            }
        });

        // Initialize
        displayProducts();
    </script>
</body>
</html>
